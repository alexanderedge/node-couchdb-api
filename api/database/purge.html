<!DOCTYPE html SYSTEM>
<!--[if lt IE 7]> <html class="no-js ie6 oldie" lang="en"> <![endif]-->
<!--[if IE 7]>		<html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>		<html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>

<meta charset="utf-8" />
<meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible" />

<title>Purge</title>
<meta name="description" content="" />
<meta name="author" content="Dominic Barnes <contact@dominicbarnes.us>" />

<meta name="viewport" content="width=device-width,initial-scale=1" />

<!-- Homepage CSS -->
<link href="/node-couchdb-api/css/style.css" rel="stylesheet" media="screen, projection" type="text/css" />

</head>

<body>

<a href="http://github.com/dominicbarnes/node-couchdb-api"><img src="https://a248.e.akamai.net/assets.github.com/img/e6bef7a091f5f3138b8cd40bc3e114258dd68ddf/687474703a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f7265645f6161303030302e706e67" alt="Fork me on GitHub" style="position: fixed; top: 0; right: 0; border: 0; z-index: 10001" /></a>

<div class="topbar">
	<div class="fill">
		<div class="container">
			<a href="/node-couchdb-api/index.html" class="brand">Dominic Barnes</a>
			<ul class="nav">
				<li><a href="http://dominicbarnes.us/">Home</a></li>
				<li><a href="http://dominicbarnes.us/about.html">About</a></li>
				<li><a href="http://dominicbarnes.us/contact.html">Contact</a></li>
				<li><a href="http://dominicbarnes.us/jWizard">jWizard</a></li>
				<li class="active"><a href="/node-couchdb-api/">node-couchdb-api</a></li>
			</ul>
		</div>
	</div>
</div>

<div class="container">

	<div class="content">
		<div class="page-header">
			<h1><a href="/node-couchdb-api/">node-couchdb-api</a> <small>The CouchDB API Wrapper for Node.js</small></h1>
		</div>
		<div class="row">
			<div class="span10">
				
<h2>Purge</h2>

<p><code>POST /db/_purge</code> <small><a href="http://techzone.couchbase.com/sites/default/files/uploads/all/documentation/couchbase-api-db.html#couchbase-api-db_db-purge_post" target="_blank">Official Documentation</a></small></p>

<p>Executes a <code>purge</code> command on the database. (removes references to a <em>deleted</em> document)</p>

<div class="CodeRay">
<pre><span class="comment">// you must specify specific _ids and _revs to delete</span>
<span class="comment">// use an object, each key is an _id, and the corresponding value is an array of _revs</span>
<span class="keyword">var</span> docs = {
   <span class="key"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>:  [<span class="string"><span class="delimiter">&quot;</span><span class="content">rev1</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">rev2</span><span class="delimiter">&quot;</span></span>],
   <span class="key"><span class="delimiter">&quot;</span><span class="content">id2</span><span class="delimiter">&quot;</span></span>: [<span class="string"><span class="delimiter">&quot;</span><span class="content">rev1</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">rev2</span><span class="delimiter">&quot;</span></span>]
};

db.purge(docs, <span class="keyword">function</span> (err, response) {
   <span class="comment">// your code here...</span>
});

</pre>
</div>


<br />


<p><a href="/node-couchdb-api/api/database/">&laquo; Back to Database Documentation</a></p>


			</div>
			<div class="span4">
            <h3>Installation</h3>
            <pre>npm install couchdb-api</pre>

				<h3><a href="/node-couchdb-api/api">API Documentation</a></h3>
            <ul>
				
					<li><a href="/node-couchdb-api/api/database/">Database</a></li>
				
					<li><a href="/node-couchdb-api/api/designdoc/">Design Document</a></li>
				
					<li><a href="/node-couchdb-api/api/document/">Document</a></li>
				
					<li><a href="/node-couchdb-api/api/server/">Server</a></li>
				
					<li><a href="/node-couchdb-api/api/view/">View</a></li>
				
				</ul>
			</div>
		</div>
	</div>

	<footer>
		</footer><p>&copy; Dominic Barnes 2011</p>
	

</div> <!-- /container -->

<!-- scripts -->
<!--<script defer src="js/script.js"></script>-->
<!-- end scripts-->

</body>

</html>
